"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[219],{3905:function(e,n,t){t.d(n,{Zo:function(){return l},kt:function(){return d}});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),m=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},l=function(e){var n=m(e.components);return a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=m(t),d=o,h=u["".concat(s,".").concat(d)]||u[d]||p[d]||i;return t?a.createElement(h,r(r({ref:n},l),{},{components:t})):a.createElement(h,r({ref:n},l))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,r=new Array(i);r[0]=u;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,r[1]=c;for(var m=2;m<i;m++)r[m]=t[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},3919:function(e,n,t){function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!a(e)}t.d(n,{b:function(){return a},Z:function(){return o}})},4996:function(e,n,t){t.d(n,{C:function(){return i},Z:function(){return r}});var a=t(2263),o=t(3919);function i(){var e=(0,a.Z)().siteConfig,n=(e=void 0===e?{}:e).baseUrl,t=void 0===n?"/":n,i=e.url;return{withBaseUrl:function(e,n){return function(e,n,t,a){var i=void 0===a?{}:a,r=i.forcePrependBaseUrl,c=void 0!==r&&r,s=i.absolute,m=void 0!==s&&s;if(!t)return t;if(t.startsWith("#"))return t;if((0,o.b)(t))return t;if(c)return n+t;var l=t.startsWith(n)?t:n+t.replace(/^\//,"");return m?e+l:l}(i,t,e,n)}}}function r(e,n){return void 0===n&&(n={}),(0,i().withBaseUrl)(e,n)}},8215:function(e,n,t){var a=t(7294);n.Z=function(e){var n=e.children,t=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:o},n)}},1395:function(e,n,t){t.d(n,{Z:function(){return l}});var a=t(7294),o=t(944),i=t(6010),r="tabItem_1uMI",c="tabItemActive_2DSg";var s=37,m=39;var l=function(e){var n=e.lazy,t=e.block,l=e.defaultValue,p=e.values,u=e.groupId,d=e.className,h=(0,o.Z)(),g=h.tabGroupChoices,v=h.setTabGroupChoices,b=(0,a.useState)(l),f=b[0],k=b[1],y=a.Children.toArray(e.children),C=[];if(null!=u){var w=g[u];null!=w&&w!==f&&p.some((function(e){return e.value===w}))&&k(w)}var N=function(e){var n=e.currentTarget,t=C.indexOf(n),a=p[t].value;k(a),null!=u&&(v(u,a),setTimeout((function(){var e,t,a,o,i,r,s,m;(e=n.getBoundingClientRect(),t=e.top,a=e.left,o=e.bottom,i=e.right,r=window,s=r.innerHeight,m=r.innerWidth,t>=0&&i<=m&&o<=s&&a>=0)||(n.scrollIntoView({block:"center",behavior:"smooth"}),n.classList.add(c),setTimeout((function(){return n.classList.remove(c)}),2e3))}),150))},I=function(e){var n,t;switch(e.keyCode){case m:var a=C.indexOf(e.target)+1;t=C[a]||C[0];break;case s:var o=C.indexOf(e.target)-1;t=C[o]||C[C.length-1]}null==(n=t)||n.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":t},d)},p.map((function(e){var n=e.value,t=e.label;return a.createElement("li",{role:"tab",tabIndex:f===n?0:-1,"aria-selected":f===n,className:(0,i.Z)("tabs__item",r,{"tabs__item--active":f===n}),key:n,ref:function(e){return C.push(e)},onKeyDown:I,onFocus:N,onClick:N},t)}))),n?(0,a.cloneElement)(y.filter((function(e){return e.props.value===f}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},y.map((function(e,n){return(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==f})}))))}},9443:function(e,n,t){var a=(0,t(7294).createContext)(void 0);n.Z=a},944:function(e,n,t){var a=t(7294),o=t(9443);n.Z=function(){var e=(0,a.useContext)(o.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},9470:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u},default:function(){return h}});var a=t(7462),o=t(3366),i=(t(7294),t(3905)),r=t(4996),c=t(1395),s=t(8215),m=["components"],l={title:"Overview"},p={unversionedId:"interaction-library/overview",id:"interaction-library/overview",isDocsHomePage:!1,title:"Overview",description:"Botrino comes with a library that allows to easily create application commands and listeners for Discord interactions. Discord recently added Application Commands as a native way to implement commands within Discord, as well as Message Components to allow for more specific and intuitive interactions with the bot.",source:"@site/docs/interaction-library/overview.md",sourceDirName:"interaction-library",slug:"/interaction-library/overview",permalink:"/docs/interaction-library/overview",editUrl:"https://github.com/Alex1304/botrino/edit/main/website/docs/interaction-library/overview.md",version:"current",frontMatter:{title:"Overview"},sidebar:"someSidebar",previous:{title:"Internationalization",permalink:"/docs/api/i18n"},next:{title:"Configuration",permalink:"/docs/interaction-library/configuration"}},u=[{value:"Preamble",id:"preamble",children:[]},{value:"Features",id:"features",children:[]},{value:"Quick start",id:"quick-start",children:[{value:"Option 1: Using Botrino framework",id:"option-1-using-botrino-framework",children:[]},{value:"Option 2: Using the library alone",id:"option-2-using-the-library-alone",children:[]}]},{value:"Creating your first commands",id:"creating-your-first-commands",children:[{value:"A basic ping command",id:"a-basic-ping-command",children:[]},{value:"A command with options",id:"a-command-with-options",children:[]},{value:"A command with subcommands and subcommand groups",id:"a-command-with-subcommands-and-subcommand-groups",children:[]},{value:"A command using component interactions",id:"a-command-using-component-interactions",children:[]},{value:"A command using a pagination system based on components",id:"a-command-using-a-pagination-system-based-on-components",children:[]}]}],d={toc:u};function h(e){var n=e.components,t=(0,o.Z)(e,m);return(0,i.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Botrino comes with a library that allows to easily create application commands and listeners for Discord interactions. Discord recently added ",(0,i.kt)("a",{parentName:"p",href:"https://discord.com/developers/docs/interactions/application-commands"},"Application Commands")," as a native way to implement commands within Discord, as well as ",(0,i.kt)("a",{parentName:"p",href:"https://discord.com/developers/docs/interactions/message-components"},"Message Components")," to allow for more specific and intuitive interactions with the bot."),(0,i.kt)("h2",{id:"preamble"},"Preamble"),(0,i.kt)("p",null,"Although it is designed to be an extension of the Botrino framework, this library is completely decoupled from the framework itself. As such, it is possible to add this library to your project even if you aren't using the framework. The only difference is that you won't benefit from the automatic registration of commands, but you will be able to use all features."),(0,i.kt)("h2",{id:"features"},"Features"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Straightforward annotation-based command declaration, with full support for slash commands with subcommands/subcommand groups and context menu commands"),(0,i.kt)("li",{parentName:"ul"},"Automatic deployment of commands into the Discord application, with ability to choose whether to deploy them globally or in a specific guild during development"),(0,i.kt)("li",{parentName:"ul"},"Inject command options into fields using annotations to conveniently access the values"),(0,i.kt)("li",{parentName:"ul"},"Handle component interactions either by treating them as regular commands or by awaiting them in order to continue the execution of a parent command"),(0,i.kt)("li",{parentName:"ul"},"Automatic ACK of interaction events, configurable on a per-command basis"),(0,i.kt)("li",{parentName:"ul"},"Define privileges for each command with your own rules"),(0,i.kt)("li",{parentName:"ul"},"Cooldown per user"),(0,i.kt)("li",{parentName:"ul"},"Centralized error handling"),(0,i.kt)("li",{parentName:"ul"},"Pre-process interaction events by filtering them or adapting the locale to the target user"),(0,i.kt)("li",{parentName:"ul"},"Utilities such as pagination system using buttons")),(0,i.kt)("h2",{id:"quick-start"},"Quick start"),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Prerequisites")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"JDK 11 or newer is required. You can download the OpenJDK ",(0,i.kt)("a",{parentName:"p",href:"https://adoptopenjdk.net/?variant=openjdk11&jvmVariant=hotspot"},"here"),"."))),(0,i.kt)("p",null,"You have two ways to start a project. ",(0,i.kt)("strong",{parentName:"p"},"Choose only one of the two options.")),(0,i.kt)("h3",{id:"option-1-using-botrino-framework"},"Option 1: Using Botrino framework"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Initialize your project by following the steps in the ",(0,i.kt)("a",{parentName:"p",href:"/docs/getting-started"},"Getting Started page"),"."),(0,i.kt)("div",{parentName:"li",className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If you decide to use the Maven archetype, the library will be already added, so you won't need to follow the next steps! Otherwise, continue reading.")))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add the following dependency in your project. Replace ","[VERSION]"," with the latest version as shown here: ",(0,i.kt)("a",{parentName:"p",href:"https://search.maven.org/artifact/com.alex1304.botrino/botrino-interaction"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/maven-central/v/com.alex1304.botrino/botrino-interaction",alt:"Maven Central"}))),(0,i.kt)(c.Z,{groupId:"build-tools",defaultValue:"maven",values:[{label:"Maven",value:"maven"},{label:"Gradle",value:"gradle"}],mdxType:"Tabs"},(0,i.kt)(s.Z,{value:"maven",mdxType:"TabItem"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>com.alex1304.botrino</groupId>\n    <artifactId>botrino-interaction</artifactId>\n    <version>[VERSION]</version>\n</dependency>\n"))),(0,i.kt)(s.Z,{value:"gradle",mdxType:"TabItem"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},"repositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.alex1304.botrino:botrino-interaction:[VERSION]'\n}\n"))))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add ",(0,i.kt)("inlineCode",{parentName:"p"},"requires botrino.interaction")," in your ",(0,i.kt)("inlineCode",{parentName:"p"},"module-info.java"),". You can actually remove ",(0,i.kt)("inlineCode",{parentName:"p"},"requires botrino.api")," since ",(0,i.kt)("inlineCode",{parentName:"p"},"botrino.interaction")," is already requiring it transitively."),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},"import botrino.api.annotation.BotModule;\n\n@BotModule\nopen module com.example.myproject {\n\n    requires botrino.interaction;\n}\n"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add the following line in the end of your ",(0,i.kt)("inlineCode",{parentName:"p"},"config.json"),":"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-json"},'    {\n        // ...\n        "interaction": {}\n    }\n')))),(0,i.kt)("p",null,"You are now ready to add commands to your application, they will be registered automatically! You can jump directly to the ",(0,i.kt)("a",{parentName:"p",href:"#creating-your-first-commands"},"Creating your first commands")," section."),(0,i.kt)("h3",{id:"option-2-using-the-library-alone"},"Option 2: Using the library alone"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Add the following dependency in your project. Replace ","[VERSION]"," with the latest version as shown here: ",(0,i.kt)("a",{parentName:"p",href:"https://search.maven.org/artifact/com.alex1304.botrino/botrino-interaction"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/maven-central/v/com.alex1304.botrino/botrino-interaction",alt:"Maven Central"}))),(0,i.kt)(c.Z,{groupId:"build-tools",defaultValue:"maven",values:[{label:"Maven",value:"maven"},{label:"Gradle",value:"gradle"}],mdxType:"Tabs"},(0,i.kt)(s.Z,{value:"maven",mdxType:"TabItem"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-xml"},"<dependency>\n    <groupId>com.alex1304.botrino</groupId>\n    <artifactId>botrino-interaction</artifactId>\n    <version>[VERSION]</version>\n</dependency>\n"))),(0,i.kt)(s.Z,{value:"gradle",mdxType:"TabItem"},(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},"repositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.alex1304.botrino:botrino-interaction:[VERSION]'\n}\n"))))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Create a main method with these few lines of code:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-java"},"package testbot1;\n\nimport botrino.interaction.InteractionService;\nimport botrino.interaction.config.InteractionConfig;\nimport discord4j.core.DiscordClient;\n\npublic final class Main {\n\n    public static void main(String[] args) {\n        final var config = InteractionConfig.builder()\n                // Slash commands will be deployed to this guild (recommended during dev).\n                // Not specifying anything will deploy globally.\n                .applicationCommandsGuildId(361255823357509645L)\n                .build();\n        // Login to Discord using the token passed as program argument\n        final var gateway = DiscordClient.create(args[0]).login().block();\n        // Initialize the interaction service\n        final var interactionService = InteractionService.create(config, gateway);\n        // Register your commands\n        interactionService.registerChatInputCommand(new PingCommand());\n        // Listen for interaction events until the bot disconnects\n        interactionService.run().takeUntilOther(gateway.onDisconnect()).block();\n    }\n}\n")))),(0,i.kt)("h2",{id:"creating-your-first-commands"},"Creating your first commands"),(0,i.kt)("h3",{id:"a-basic-ping-command"},"A basic ping command"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package testbot1;\n\nimport botrino.interaction.annotation.ChatInputCommand;\nimport botrino.interaction.listener.ChatInputInteractionListener;\nimport botrino.interaction.context.ChatInputInteractionContext;\nimport org.reactivestreams.Publisher;\n\n@ChatInputCommand(name = "ping", description = "Pings the bot to check if it is alive.")\npublic final class PingCommand implements ChatInputInteractionListener {\n\n    @Override\n    public Publisher<?> run(ChatInputInteractionContext ctx) {\n        return ctx.event().createFollowup("Pong !");\n    }\n}\n')),(0,i.kt)("h3",{id:"a-command-with-options"},"A command with options"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package testbot1;\n\nimport botrino.interaction.annotation.ChatInputCommand;\nimport botrino.interaction.context.ChatInputInteractionContext;\nimport botrino.interaction.grammar.ChatInputCommandGrammar;\nimport botrino.interaction.listener.ChatInputInteractionListener;\nimport discord4j.core.object.command.ApplicationCommandOption;\nimport discord4j.discordjson.json.ApplicationCommandOptionData;\nimport org.reactivestreams.Publisher;\n\nimport java.util.List;\n\n@ChatInputCommand(name = "options", description = "Option testing")\npublic class OptionsCommand implements ChatInputInteractionListener {\n\n    private final ChatInputCommandGrammar<Options> grammar = ChatInputCommandGrammar.of(Options.class);\n\n    @Override\n    public Publisher<?> run(ChatInputInteractionContext ctx) {\n        return grammar.resolve(ctx.event()).flatMap(options -> ctx.event()\n                .createFollowup("Value of `my-string`: " + options.myString));\n    }\n\n    @Override\n    public List<ApplicationCommandOptionData> options() {\n        return grammar.toOptions();\n    }\n\n    private static class Options {\n        @ChatInputCommandGrammar.Option(\n                type = ApplicationCommandOption.Type.STRING,\n                name = "my-string",\n                description = "The string argument",\n                required = true,\n                choices = {\n                        @ChatInputCommandGrammar.Choice(name = "Choice 1", stringValue = "1"),\n                        @ChatInputCommandGrammar.Choice(name = "Choice 2", stringValue = "2"),\n                        @ChatInputCommandGrammar.Choice(name = "Choice 3", stringValue = "3")\n                }\n        )\n        String myString;\n    }\n}\n')),(0,i.kt)("h3",{id:"a-command-with-subcommands-and-subcommand-groups"},"A command with subcommands and subcommand groups"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'@ChatInputCommand(\n        name = "nest",\n        description = "Subcommand testing",\n        subcommands = {\n                @Subcommand(name = "sub1", description = "Subcommand 1", listener = NestCommand.Sub1.class),\n                @Subcommand(name = "sub2", description = "Subcommand 2", listener = NestCommand.Sub2.class)\n        },\n        subcommandGroups = {\n                @SubcommandGroup(name = "group1", description = "Group 1", subcommands = {\n                        @Subcommand(name = "sub", description = "Subcommand", listener = NestCommand.G1Sub.class)\n                })\n        }\n)\npublic final class NestCommand {\n\n    public static final class Sub1 implements ChatInputInteractionListener {\n\n        @Override\n        public Publisher<?> run(ChatInputInteractionContext ctx) {\n            return ctx.event().createFollowup("sub1: pong!");\n        }\n    }\n\n    public static final class Sub2 implements ChatInputInteractionListener {\n\n        @Override\n        public Publisher<?> run(ChatInputInteractionContext ctx) {\n            return ctx.event().createFollowup("sub2: pong!");\n        }\n    }\n\n    public static final class G1Sub implements ChatInputInteractionListener {\n\n        @Override\n        public Publisher<?> run(ChatInputInteractionContext ctx) {\n            return ctx.event().createFollowup("group1 sub: pong!");\n        }\n    }\n}\n')),(0,i.kt)("h3",{id:"a-command-using-component-interactions"},"A command using component interactions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package testbot1;\n\nimport botrino.interaction.annotation.ChatInputCommand;\nimport botrino.interaction.context.ChatInputInteractionContext;\nimport botrino.interaction.listener.ChatInputInteractionListener;\nimport discord4j.core.object.component.ActionRow;\nimport discord4j.core.object.component.SelectMenu;\nimport discord4j.core.object.entity.Message;\nimport discord4j.core.spec.InteractionFollowupCreateSpec;\nimport org.reactivestreams.Publisher;\nimport reactor.core.publisher.Mono;\n\nimport java.util.UUID;\n\nimport static botrino.interaction.listener.ComponentInteractionListener.selectMenu;\n\n@ChatInputCommand(name = "select", description = "Command for testing select menus")\npublic class SelectCommand implements ChatInputInteractionListener {\n\n    @Override\n    public Publisher<?> run(ChatInputInteractionContext ctx) {\n        final var customId = UUID.randomUUID().toString();\n        return ctx.event().createFollowup("Select an option:")\n                .withComponents(ActionRow.of(SelectMenu.of(customId,\n                        SelectMenu.Option.of("option 1", "foo"),\n                        SelectMenu.Option.of("option 2", "bar"),\n                        SelectMenu.Option.of("option 3", "baz"))))\n                .map(Message::getId)\n                // Wait until the select menu is interacted with and return the value clicked\n                .flatMap(messageId -> ctx.awaitSelectMenuItems(customId)\n                        .flatMap(items -> ctx.event().createFollowup("You clicked: " + items.get(0))\n                                .then(ctx.event().deleteFollowup(messageId))));\n    }\n}\n')),(0,i.kt)("h3",{id:"a-command-using-a-pagination-system-based-on-components"},"A command using a pagination system based on components"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'package testbot1;\n\nimport botrino.interaction.annotation.ChatInputCommand;\nimport botrino.interaction.context.ChatInputInteractionContext;\nimport botrino.interaction.listener.ChatInputInteractionListener;\nimport botrino.interaction.util.MessagePaginator;\nimport discord4j.core.object.component.ActionRow;\nimport discord4j.core.object.component.Button;\nimport discord4j.core.spec.MessageCreateSpec;\nimport org.reactivestreams.Publisher;\nimport reactor.core.publisher.Mono;\n\n@ChatInputCommand(name = "paginate", description = "Pagination testing")\npublic final class PaginateCommand implements ChatInputInteractionListener {\n\n    @Override\n    public Publisher<?> run(ChatInputInteractionContext ctx) {\n        return MessagePaginator.paginate(ctx, 5, state -> Mono.just(MessageCreateSpec.create()\n                .withContent("Page " + (state.getPage() + 1) + "/" + state.getPageCount())\n                .withComponents(ActionRow.of(\n                        state.previousButton(customId -> Button.secondary(customId, "<< Previous")),\n                        state.nextButton(customId -> Button.secondary(customId, "Next >>")),\n                        state.closeButton(customId -> Button.danger(customId, "Close"))\n                ))));\n    }\n}\n')),(0,i.kt)("img",{src:(0,r.Z)("img/paginate.png"),alt:""}),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"All of these features (and more !) are fully documented in the next pages."))))}h.isMDXComponent=!0},6010:function(e,n,t){function a(e){var n,t,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=a(e[n]))&&(o&&(o+=" "),o+=t);else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function o(){for(var e,n,t=0,o="";t<arguments.length;)(e=arguments[t++])&&(n=a(e))&&(o&&(o+=" "),o+=n);return o}t.d(n,{Z:function(){return o}})}}]);